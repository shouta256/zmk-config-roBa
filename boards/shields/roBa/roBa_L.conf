# NFC ピンを GPIO として利用（キースキャン用）。
CONFIG_NFCT_PINS_AS_GPIOS=y

# EC11 エンコーダを有効化（割り込みはグローバルスレッドで処理）。
CONFIG_EC11=y
CONFIG_EC11_TRIGGER_GLOBAL_THREAD=y

# スムーズスクロール用の input サブシステムを有効化。
CONFIG_INPUT=y

# 分割キーボードのバッテリー情報を中央側でレポート。
CONFIG_ZMK_BATTERY_REPORTING=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_PROXY=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_FETCHING=y

# ポインティング機能（マウス/スクロール系）。
CONFIG_ZMK_POINTING=y

# === Bluetooth 接続安定化設定 ===
# 接続切断時にキーが押されっぱなしになる問題を防止。
CONFIG_ZMK_BLE_CLEAR_BONDS_ON_START=n

# BLE 接続タイムアウトを長めに設定（安定性向上）。
CONFIG_BT_PERIPHERAL_PREF_TIMEOUT=400

# 再接続の試行回数を増やす。
CONFIG_BT_CONN_TX_MAX=6

# キーリリースを確実に送信。
CONFIG_ZMK_BLE_CONSUMER_REPORT_QUEUE_SIZE=8
CONFIG_ZMK_BLE_KEYBOARD_REPORT_QUEUE_SIZE=20

# 省電力モードのタイムアウト（分）。
CONFIG_ZMK_IDLE_TIMEOUT=30000
CONFIG_ZMK_SLEEP=y
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=900000